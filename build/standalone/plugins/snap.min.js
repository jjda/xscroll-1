!function(){var n,t,e,r;n=function(n){function t(){}function e(n,e){var r;return Object.create?r=Object.create(n):(t.prototype=n,r=new t),r.constructor=e,r}for(var r=/\\?\{([^{}]+)\}/g,s="",i=/^[\s\xa0]+|[\s\xa0]+$/g,o=String.prototype.trim,a=0,l=function(n){var t=++a+"";return n?n+t:t},u=({isObject:function(n){return n===Object(n)},isArray:Array.isArray||function(n){return"[object Array]"==toString.call(n)},isEmpty:function(n){if(null==n)return!0;if(this.isArray(n)||this.isString(n))return 0===n.length;for(var t in n)if(this.has(n,t))return!1;return!0},mix:function(n,t){for(var e in t)n[e]=t[e];return n},extend:function(n,t,r,s){if(!t||!n)return n;var i,o=t.prototype;return i=e(o,n),n.prototype=this.mix(i,n.prototype),n.superclass=e(o,t),r&&this.mix(i,r),s&&this.mix(n,s),n},startsWith:function(n,t){return 0===n.lastIndexOf(t,0)},endsWith:function(n,t){var e=n.length-t.length;return e>=0&&n.indexOf(t,e)===e},trim:o?function(n){return null==n?s:o.call(n)}:function(n){return null==n?s:(n+"").replace(i,s)},substitute:function(n,t,e){return"string"==typeof n&&t?n.replace(e||r,function(n,e){return"\\"===n.charAt(0)?n.slice(1):void 0===t[e]?s:t[e]}):n},vendor:function(){for(var n,t=document.createElement("div").style,e=["t","webkitT","MozT","msT","OT"],r=0,s=e.length;s>r;r++)if(n=e[r]+"ransform",n in t)return e[r].substr(0,e[r].length-1);return!1}(),prefixStyle:function(n){return this.vendor===!1?!1:""===this.vendor?n:this.vendor+n.charAt(0).toUpperCase()+n.substr(1)},hasClass:function(n,t){return n&&n.className&&t&&-1!=n.className.indexOf(t)},addClass:function(n,t){n&&t&&!this.hasClass(n,t)&&(n.className+=" "+t)},removeClass:function(n,t){n&&n.className&&t&&(n.className=n.className.replace(t,""))},getOffsetTop:function(n){var t=n.offsetTop;return null!=n.offsetParent&&(t+=this.getOffsetTop(n.offsetParent)),t},getOffsetLeft:function(n){var t=n.offsetLeft;return null!=n.offsetParent&&(t+=this.getOffsetLeft(n.offsetParent)),t},findParentEl:function(n,t,e){var r=null;if(e=e||document.body,n&&t){if(n.className.match(t.replace(/\.|#/g,"")))return n;for(;!r&&(r=n.parentNode,n!=e);){if(r)return r;n=n.parentNode}return null}},guid:l,isAndroid:function(){return/Android /.test(window.navigator.appVersion)},isBadAndroid:function(){return/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)},px2Num:function(n){return Number(n.replace(/px/,""))}}),c=["Arguments","Function","String","Number","Date","RegExp"],f=0;f<c.length;f++)u["is"+c[f]]=function(n){return toString.call(n)=="[object "+c[f]+"]"};return"object"==typeof module&&module.exports?n=u:u}({}),r=function(t){var e=n,r=function(n){var t,e=!1;return function(){return e?t:(e=!0,t=n.apply(this,arguments),n=null,t)}},s={on:function(n,t,e){if(!o(this,"on",n,[t,e])||!t)return this;this._events||(this._events={});var r=this._events[n]||(this._events[n]=[]);return r.push({callback:t,context:e,ctx:e||this}),this},once:function(n,t,e){if(!o(this,"once",n,[t,e])||!t)return this;var s=this,i=r(function(){s.off(n,i),t.apply(this,arguments)});return i._callback=t,this.on(n,i,e)},off:function(n,t,e){if(!this._events||!o(this,"off",n,[t,e]))return this;if(!n&&!t&&!e)return this._events=void 0,this;for(var r=n?[n]:Object.keys(this._events),s=0,i=r.length;i>s;s++){n=r[s];var a=this._events[n];if(a)if(t||e){for(var l=[],u=0,c=a.length;c>u;u++){var f=a[u];(t&&t!==f.callback&&t!==f.callback._callback||e&&e!==f.context)&&l.push(f)}l.length?this._events[n]=l:delete this._events[n]}else delete this._events[n]}return this},trigger:function(n){if(!this._events)return this;var t=Array.prototype.slice.call(arguments,1);if(!o(this,"trigger",n,t))return this;var e=this._events[n],r=this._events.all;return e&&a(e,t),r&&a(r,arguments),this},listenTo:function(n,t,r){var s=this._listeningTo||(this._listeningTo={}),i=n._listenId||(n._listenId=e.guid("l"));return s[i]=n,r||"object"!=typeof t||(r=this),n.on(t,r,this),this},listenToOnce:function(n,t,e){if("object"==typeof t){for(var s in t)this.listenToOnce(n,s,t[s]);return this}var i=r(function(){this.stopListening(n,t,i),e.apply(this,arguments)});return i._callback=e,this.listenTo(n,t,i)},stopListening:function(n,t,r){var s=this._listeningTo;if(!s)return this;var i=!t&&!r;r||"object"!=typeof t||(r=this),n&&((s={})[n._listenId]=n);for(var o in s)n=s[o],n.off(t,r,this),(i||e.isEmpty(n._events))&&delete this._listeningTo[o];return this}},i=/\s+/,o=function(n,t,e,r){if(!e)return!0;if("object"==typeof e){for(var s in e)n[t].apply(n,[s,e[s]].concat(r));return!1}if(i.test(e)){for(var o=e.split(i),a=0,l=o.length;l>a;a++)n[t].apply(n,[o[a]].concat(r));return!1}return!0},a=function(n,t){var e,r=-1,s=n.length,i=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++r<s;)(e=n[r]).callback.call(e.ctx);return;case 1:for(;++r<s;)(e=n[r]).callback.call(e.ctx,i);return;case 2:for(;++r<s;)(e=n[r]).callback.call(e.ctx,i,o);return;case 3:for(;++r<s;)(e=n[r]).callback.call(e.ctx,i,o,a);return;default:for(;++r<s;)(e=n[r]).callback.apply(e.ctx,t);return}};return s.bind=s.on,s.unbind=s.off,"object"==typeof module&&module.exports?t=s:s}({}),t=function(t){var e=n,s=r,i=function(){};return e.mix(i.prototype,s),e.mix(i.prototype,{plug:function(n){var t=this;if(n&&n.pluginId){t.__plugins||(t.__plugins=[]);var e=t.getPlugin(n.pluginId);return e&&t.unplug(n.pluginId),n.pluginInitializer(t),t.__plugins.push(n),t}},unplug:function(n){var t=this;if(n){var e="string"==typeof n?t.getPlugin(n):n;e.pluginDestructor(t);for(var r in t.__plugins)if(t.__plugins[r]==e)return t.__plugins.splice(r,1)}},getPlugin:function(n){var t=this,e=[];for(var r in t.__plugins)t.__plugins[r]&&t.__plugins[r].pluginId==n&&e.push(t.__plugins[r]);return e.length>1?e:e[0]||null}}),"object"==typeof module&&module.exports?t=i:i}({}),e=function(e){var r=n,s=t,i=function(n){i.superclass.constructor.call(this,n),this.userConfig=r.mix({snapColIndex:0,snapRowIndex:0,snapDuration:500,snapEasing:"ease",snapOffsetLeft:0,snapOffsetTop:0,autoStep:!1},n)};if(r.extend(i,s,{pluginId:"snap",pluginInitializer:function(n){var t=this;t.xscroll=n.render(),t.snapColIndex=t.userConfig.snapColIndex,t.snapRowIndex=t.userConfig.snapRowIndex,prefix=t.userConfig.prefix,t.render()},pluginDestructor:function(){var n=this,t=n.xscroll;t.on("panend",t._onpanend,t),t.off("panend",n._snapAnimate,n),delete n},snapTo:function(n,t,e,r,s){return this.snapToCol(n,e,r,s),this.snapToRow(t,e,r,s),this},snapToCol:function(n,t,e,r){var s=this,i=s.userConfig,t=t||i.snapDuration,e=e||i.snapEasing,o=i.snapWidth,a=i.snapColsNum,l=i.snapOffsetLeft;n=n>=a?a-1:0>n?0:n,s.snapColIndex=n;var u=s.snapColIndex*o+l;return s.xscroll.scrollLeft(u,t,e,r),s},snapToRow:function(n,t,e,r){var s=this,i=s.userConfig,t=t||i.snapDuration,e=e||i.snapEasing,o=i.snapHeight,a=i.snapRowsNum,l=i.snapOffsetTop;n=n>=a?a-1:0>n?0:n,s.snapRowIndex=n;var u=s.snapRowIndex*o+l;return s.xscroll.scrollTop(u,t,e,r),s},_snapAnimate:function(n){var t=this,e=t.userConfig,r=e.snapWidth,s=e.snapHeight;t.xscroll.__topstart=null,t.xscroll.__leftstart=null;var i=n.direction;if(Math.abs(n.velocity)<=.2){var o=Math.abs(t.xscroll.getScrollLeft()),a=Math.abs(t.xscroll.getScrollTop());t.snapColIndex=Math.round(o/r),t.snapRowIndex=Math.round(a/s),t.snapTo(t.snapColIndex,t.snapRowIndex)}else if(e.autoStep){var l=t.xscroll.computeScroll("x",n.velocityX),u=t.xscroll.computeScroll("y",n.velocityY),c=l&&l.pos?Math.round(l.pos/r):t.snapColIndex,f=u&&u.pos?Math.round(u.pos/s):t.snapRowIndex,p=Math.ceil(l&&l.duration,u&&u.duration);l&&"inside"==l.status?t.snapToCol(c,p,l&&l.easing,function(){t.xscroll.boundryCheckX()}):l&&t.xscroll.scrollLeft(l.pos,l.duration,l.easing,function(){t.xscroll.boundryCheckX(),t.snapColIndex=Math.round(Math.abs(t.xscroll.getScrollLeft())/r)}),u&&"inside"==u.status?t.snapToRow(f,p,u&&u.easing,function(){t.xscroll.boundryCheckY()}):u&&t.xscroll.scrollTop(u.pos,u.duration,u.easing,function(){t.xscroll.boundryCheckY(),t.snapRowIndex=Math.round(Math.abs(t.xscroll.getScrollTop())/s)})}else 2==i?t.snapColIndex++:4==i?t.snapColIndex--:void 0,8==i?t.snapRowIndex++:16==i?t.snapRowIndex--:void 0,t.snapTo(t.snapColIndex,t.snapRowIndex)},render:function(){var n=this,t=n.xscroll;return n.userConfig.snapWidth=n.userConfig.snapWidth||t.width||100,n.userConfig.snapHeight=n.userConfig.snapHeight||t.height||100,n.userConfig.snapColsNum=n.userConfig.snapColsNum||Math.max(Math.round(t.containerWidth/t.width),1),n.userConfig.snapRowsNum=n.userConfig.snapRowsNum||Math.max(Math.round(t.containerHeight/t.height),1),t.off("panend",t._onpanend),t.on("panend",n._snapAnimate,n),n}}),"object"==typeof module&&module.exports)e=i;else if(window.XScroll&&window.XScroll.Plugins)return XScroll.Plugins.Snap=i;return e}({})}();
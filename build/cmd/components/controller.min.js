define(function(o,t,i){var n=o("../util"),r=o("../base"),e=function(o){e.superclass.constructor.call(this,o),this.userConfig=n.mix({},o),this.init()};return n.extend(e,r,{init:function(){var o=this;o.xscroll=o.userConfig.xscroll},add:function(o,t){var i=this;return t=n.extend({captureBounce:!1,stopPropagation:!0},t),i.__scrolls||(i.__scrolls={}),o.guid&&!i.__scrolls[o.guid]?(o.parentscroll=i.xscroll,i._bind(o),i.__scrolls[o.guid]=o):void 0},remove:function(o){var t=this;if(o&&o.guid){var i=t.__scrolls[o.guid];i&&(delete i.parentscroll,t._unbind(o),delete i)}},get:function(o){return o?this.__scrolls[o]:this.__scrolls},_unbind:function(){},_bind:function(o){var t=this,i=t.xscroll;i.renderTo.addEventListener("touchstart",function(){i._resetLockConfig()}),o.renderTo.addEventListener("touchstart",function(){o._resetLockConfig()}),o.on("panstart",function(t){if(!o.userConfig.lockY&&!i.userConfig.lockY){if(o.isBoundryOut())return void(i.userConfig.lockY=!0);16==t.direction&&o.getBoundryOutTop()>=0?o.userConfig.lockY=!0:8==t.direction&&o.getBoundryOutTop()>=0&&(i.userConfig.lockY=!0),8==t.direction&&o.getBoundryOutBottom()>=0?o.userConfig.lockY=!0:16==t.direction&&o.getBoundryOutBottom()>=0&&(i.userConfig.lockY=!0),o.getBoundryOutTop()<0&&o.getBoundryOutBottom()<0&&(i.userConfig.lockY=!0)}if(!o.userConfig.lockX&&!i.userConfig.lockX){if(o.isBoundryOut())return void(i.userConfig.lockX=!0);4==t.direction&&o.getBoundryOutLeft()>=0?o.userConfig.lockX=!0:2==t.direction&&o.getBoundryOutLeft()>=0&&(i.userConfig.lockX=!0),2==t.direction&&o.getBoundryOutRight()>=0?o.userConfig.lockX=!0:4==t.direction&&o.getBoundryOutRight()>=0&&(i.userConfig.lockX=!0),o.getBoundryOutLeft()<0&&o.getBoundryOutRight()<0&&(i.userConfig.lockX=!0)}!o.userConfig.lockX&&i.userConfig.lockX&&(2==t.direction||4==t.direction?i.userConfig.lockY=!0:o.userConfig.lockX=!0),!o.userConfig.lockY&&i.userConfig.lockY&&(8==t.direction||16==t.direction?i.userConfig.lockX=!0:o.userConfig.lockY=!0)})}}),"object"==typeof i&&i.exports?void(i.exports=e):e});